# Описание лабораторной работы
## Цели работы

1. Получить базовые знания о принципах построения цифровых интегральных схем с использованием технологии КМОП.
2. Познакомиться с технологией SPICE-моделирования схем на транзисторах.
3. Получить навыки описания схем базовых операционных элементов (БОЭ) комбинационного типа на вентильном уровне с использованием языка описания аппаратуры Verilog HDL.

## Указания к выполнению работы
Лабораторная работа состоит из двух частей. </br>
Первая часть посвящена проектированию цифровых вентилей на полевых транзисторах, построению схем на базе вентилей и знакомству с технологией SPICEмоделирования. Первая часть работы выполняется в программном пакете LTspice. При построении схем вентилей необходимо использовать КМОП-транзисторы с параметрами из файла, предоставленного преподавателем (см. раздел «Основы работы в среде LTspice»). </br>
Вторая часть посвящена знакомству с языком описания аппаратуры Verilog HDL, изучению особенностей его использования для описания схем на вентильном уровне и приобретению навыков тестирования таких схем. Вторая часть работы выполняется с использованием Vivado Simulator, входящего в пакет Vivado Design Suite (см. раздел «Основы работы в среде Vivado Design Suite»). </br>

##### 1. Постройте схему вашего базового логического элемента согласно технологии nMОП/pМОП. Какие вы можете выделить достоинства и недостатки в сравнении с аналогичной КМОП-cхемой?

 nМОП схема: <br />
<img width="306" alt="Снимок экрана 2024-10-29 в 18 15 30" src="https://github.com/user-attachments/assets/6ec6fe4c-bd34-4e1d-bdd4-b841979d25de"> <br />
pМОП схема: <br />
<img width="411" alt="Снимок экрана 2024-10-29 в 18 17 42" src="https://github.com/user-attachments/assets/c2a63dc7-9bd0-4af8-886f-936b7136d0c7"> <br />

Достоинства: 
- Более высокая скорость переключения по сравнению с КМОП, так как nMOS транзисторы быстрее, чем pMOS.
- Более низкое энергопотребление при логической "1" (включении).

Недостатки: 
- Более высокий уровень потребляемой мощности, особенно в статическом режиме, по сравнению с КМОП.
- Сложности с уровнями напряжений и необходимостью использования дополнительных элементов для обеспечения устойчивости логических уровней.

##### 2. Каким уровнем напряжения в вашей системе кодируется логический “0” и логическая “1”. Какой у ваших уровней напряжения запас помехоустойчивости?

Обычно логический "0" кодируется напряжением близким к 0 В, а логическая "1" — напряжением, близким к 1 В. 
Запас помехоустойчивости можно оценить как разницу между уровнями "0" и "1". Чем больше этот запас, тем лучше схема устойчива к помехам.

У нас, похоже, не самый лучший запас помехоустойчивости

##### 3. Чем задержка распространения отличается от задержки реакции? Как можно уменьшить задержку распространения в схеме вашего БОЭ?

<img width="776" alt="Снимок экрана 2024-10-29 в 18 21 34" src="https://github.com/user-attachments/assets/ef50cd34-2bc3-4007-8432-90404dc4a8b2"> <br />

- **Задержка распространения** (tpd) — это время, необходимое для передачи сигнала от входа к выходу логического элемента.
- **Задержка реакции** (tcd) — это время, которое проходит от момента изменения входного сигнала до момента, когда выход начинает изменяться.

Для уменьшения задержки распространения можно использовать более быстрые транзисторы, уменьшить нагрузку на выход, а также оптимизировать схему (например, использовать более короткие соединения).

##### 4. Постройте каскад из N-инверторов. Чему равна теоретическая задержка распространения всей схемы?

**Каскад** — это соединение нескольких логических элементов последовательно, где выход одного элемента подключен к входу следующего. В случае **N инверторов** вы берете несколько инверторов и соединяете их так, что выход одного инвертора является входом следующего.

Теоретическая задержка распространения каскада из N инверторов может быть оценена как N умноженное на задержку одного инвертора. Например, если задержка одного инвертора равна td​, то задержка каскада будет N⋅td​.

##### 5. Что такое коэффициент разветвления по выходу? Как он влияет на задержки в схеме?

Коэффициент разветвления — это количество выходов, которые может обеспечить один выходной сигнал. Например, если один выход соединен с двумя входами следующего уровня, коэффициент разветвления равен 2.

Пример:
- Если у вас есть один инвертор, и его выход подключен к двум входам следующих логических элементов, коэффициент разветвления равен 2.
- Если его выход подключен к 4 входам, коэффициент разветвления равен 4.
- Чем больше коэффициент разветвления, тем больше нагрузка на выход, что может увеличить задержку и уменьшить частоту работы схемы.

Он влияет на задержки в схеме: чем выше коэффициент разветвления, тем больше времени требуется для зарядки или разрядки входов следующего уровня, что увеличивает задержку распространения.

##### 6. Что такое критический путь?

**Критический путь** — это самый длинный путь от входа до выхода в комбинационной схеме. 
- Он определяет максимальную задержку, которая требуется для того, чтобы сигнал прошел от одного входа до выхода. 
- Критический путь обычно включает в себя те элементы, которые имеют наибольшую задержку.

##### 7. Как и почему частота работы комбинационной схемы зависит от критического пути?

Частота работы комбинационной схемы зависит от критического пути, потому что максимальная частота работы равна обратной задержке критического пути. Чем больше задержка, тем меньше максимальная частота.

##### 8. Как рассчитать максимальную частоту работы комбинационной схемы?

<img width="116" alt="Снимок экрана 2024-10-29 в 18 36 22" src="https://github.com/user-attachments/assets/5d6f130b-4510-4ec7-b4df-55f58c90063a"> <br />
где 
- fmax - максимальная частота работы
- tcritical = задержка критического пути

##### 9. n-МОП транзистор. Схематично изобразите структуру транзистора и опишите его работу.

n-MOS транзистор включает в себя канал, который проводит ток, когда на затвор подается положительное напряжение (относительно источника). Он имеет три вывода: источник (S), сток (D) и затвор (G). При подаче положительного напряжения на затвор, канал между истоком и стоком проводит ток.

<img width="400" alt="Снимок экрана 2024-10-29 в 18 38 11" src="https://github.com/user-attachments/assets/0ef911f3-9991-4f5b-96d0-ea6cefed2843"> <br />
Изменение в зависимости от наличия напряжения (ток проходит, когда есть напряжение): <br />
<img width="497" alt="Снимок экрана 2024-10-29 в 18 39 53" src="https://github.com/user-attachments/assets/ecb83b9a-650e-46b6-9488-b3f9b7036d92"> <br />

##### 10. p-МОП транзистор. Схематично изобразите структуру транзистора и опишите его работу.

p-MOS транзистор проводит ток, когда на затвор подается отрицательное напряжение (относительно источника). Он также имеет три вывода: источник (S), сток (D) и затвор (G). При подаче отрицательного напряжения на затвор, канал между истоком и стоком проводит ток.

<img width="463" alt="Снимок экрана 2024-10-29 в 18 41 41" src="https://github.com/user-attachments/assets/af3f607a-c6fe-445f-9ca1-be1f89b99f4b"> <br />
Изменение в зависимости от наличия напряжения: <br />
<img width="563" alt="Снимок экрана 2024-10-29 в 18 42 21" src="https://github.com/user-attachments/assets/c544ab70-ae2e-46a5-9740-b8ecbb875f57"> <br />

##### 11. Элемент “НЕ” в КОМП-технологии. Постройте схему элемента и опишите его работу

Инвертор в КМОП (комплементарная МОП) технологии состоит из двух транзисторов: p-МОП и n-МОП. На вход инвертора подаётся сигнал, который одновременно поступает на затворы обоих транзисторов. Когда на входе логический "1", n-МОП включается, а p-МОП отключается, и выход оказывается на уровне "0". Если на входе логический "0", p-МОП включается, n-МОП отключается, и на выходе появляется логическая "1". Таким образом, выходное значение всегда является инверсией входного

<img width="476" alt="Снимок экрана 2024-10-29 в 18 47 30" src="https://github.com/user-attachments/assets/59139a1e-81eb-4d23-b807-acb0205cdf94"> <br />

##### 12. Элемент “И-НЕ” в КОМП-технологии. Постройте схему элемента и опишите его работу;

Логический элемент "И-НЕ" также состоит из p-МОП и n-МОП транзисторов, соединённых так, чтобы выход инвертировал результат операции "И". В схеме используется два p-МОП транзистора, подключённых параллельно, и два n-МОП транзистора, подключённых последовательно. Если оба входа имеют логическое значение "1", оба n-МОП транзистора замкнуты, и на выходе появляется "0". Во всех других случаях выходной сигнал — логическая "1"【15:0†methodological_guide】.

<img width="389" alt="Снимок экрана 2024-10-29 в 18 49 00" src="https://github.com/user-attachments/assets/46d65bfa-1dc1-486b-b1fc-89efdede2e47"> <br />

##### 13. Элемент “ИЛИ-НЕ” в КОМП-технологии. Постройте схему элемента и опишите его работу

Элемент "ИЛИ-НЕ" также использует p-МОП и n-МОП транзисторы. Два p-МОП транзистора подключены последовательно, а n-МОП транзисторы — параллельно. Если оба входа равны "0", на выходе будет логическая "1". При наличии хотя бы одного входного сигнала "1", выход станет "0", что соответствует инверсии "ИЛИ" операции

<img width="428" alt="Снимок экрана 2024-10-29 в 18 54 14" src="https://github.com/user-attachments/assets/6644bfb0-a137-4d40-aace-986ee9348622"> <br />

##### 14. Элемент “И” в КОМП-технологии. Постройте схему элемента и опишите его работу;

Логический элемент "И" может быть построен с использованием дополнительного инвертора к схеме NAND, что позволит инвертировать выход NAND и получить результат операции "И". Схема включает два инвертора: один для формирования NAND-сигнала и второй для инверсии результата, что позволяет получить логический "И"

<img width="525" alt="Снимок экрана 2024-10-29 в 18 56 02" src="https://github.com/user-attachments/assets/614e6ba4-9739-4364-a149-7f04243dea2d"> <br />

##### 15. Элемент “ИЛИ” в КОМП-технологии. Постройте схему элемента и опишите его работу

Элемент "ИЛИ" может быть реализован добавлением инвертора к NOR-схеме. В результате инвертирования логического NOR, результат превращается в операцию "ИЛИ".

<img width="533" alt="Снимок экрана 2024-10-29 в 18 56 39" src="https://github.com/user-attachments/assets/4463fd4f-adbc-4317-818f-b49d6c6928dd"> <br />

##### 16. Шифратор и дешифратор. Постройте схему элемента и опишите его работу

**Шифратор**, (называемый так же кодером) - устройство, осуществляющее преобразование десятичных чисел в двоичную систему счисления. 

Пусть в шифраторе имеется m входов, последовательно пронумерованных десятичными числами (0, 1, 2, 3, ..., m - 1), и n выходов. Подача сигнала на один из входов приводит к появлению на выходах n- разрядного двоичного числа, соответствующего номеру возбужденного входа.

<img width="949" alt="Снимок экрана 2024-10-29 в 19 04 01" src="https://github.com/user-attachments/assets/c2b3cc99-a16a-4aae-932d-6146efdaeee8"> <br />
Схема шифратора на элементах ИЛИ: <br />
<img width="933" alt="Снимок экрана 2024-10-29 в 19 04 32" src="https://github.com/user-attachments/assets/4c1d5a63-ef0a-4bcf-8095-767d4d446ec4"> <br />

**Дешифратор** -  выполняет функцию обратную шифратору, т.е. служит для преобразования двоичного кода в позиционный.

<img width="805" alt="Снимок экрана 2024-10-29 в 19 07 24" src="https://github.com/user-attachments/assets/c1cbce04-a17f-40b9-a714-ffa746ce5b6d <br />

##### 17. Мультиплексор и демультиплексор. Постройте схему элемента и опишите его работу;

Мультиплексор: 
<img width="984" alt="Снимок экрана 2024-10-29 в 19 09 23" src="https://github.com/user-attachments/assets/ce9a72bf-125a-4830-af6f-75d881e7c56a"> <br />

Демультиплексор:
<img width="880" alt="Снимок экрана 2024-10-29 в 19 10 43" src="https://github.com/user-attachments/assets/7bd38826-26c7-4eb2-826a-3dc97950f902"> <br />

##### 18. Понятие Look-up table. Особенности работы, применение, структура и типы

- **Look-up table (LUT)** — это таблица, содержащая предопределенные значения выходов для всех возможных входных комбинаций. В цифровых схемах LUT используется для реализации логических функций.

- **Структура**: LUT часто реализуется на основе комбинаций регистров и мультиплексоров, что позволяет хранить значения для определенных входов и изменять реакцию в зависимости от данных.

- **Применение**: В ПЛИС (FPGA) LUT используется для создания логических схем. Типичная LUT в FPGA может хранить значения для всех комбинаций 4-битного входа.

##### 19. Полусумматор и полный сумматор. Постройте схему элемента и опишите его работу;

- **Полусумматор** складывает два одноразрядных числа и имеет два выхода: сумму и перенос. 
  - **Работа**: Если входы A=1 и B=1, сумма равна 0, а перенос равен 1.
  
 <img width="899" alt="Снимок экрана 2024-10-29 в 19 14 30" src="https://github.com/user-attachments/assets/10c5be84-0d8d-4be9-8544-caf8a6181b6a"> <br />

- **Полный сумматор** складывает два одноразрядных числа и входной перенос, что позволяет учитывать перенос от предыдущей операции.
  - **Работа**: Если входы A=1, B=1, и перенос от предыдущего разряда Cin=1, то сумма равна 1, а перенос равен 1.

##### 20. Базовые языковые конструкции для описания комбинационных схем в Verilog

В Verilog для описания комбинационной логики применяются такие конструкции, как операторы assign и логические операторы (например, and, or, not). Например, для реализации комбинационной схемы можно использовать:

```Verilog
assign y = a & b | c;
```

Эта строка описывает комбинационную логику, где выход y определяется комбинацией входов a, b, и c

##### 21. Verilog. Синтезируемые языковые конструкции

Синтезируемые конструкции Verilog, такие как assign и always @\*, позволяют описывать логику, которую можно преобразовать в физические элементы схемы. Примеры включают if-else, case, и арифметические операторы (+, -, \*). Например:

```Verilog
always @* begin
    case (sel)
        2'b00: y = a;
        2'b01: y = b;
        // другие варианты
    endcase
end
```

Эти конструкции используются для построения схем, таких как мультиплексоры, и позволяют их синтезировать на аппаратном уровне

##### 22. Verilog. Несинтезируемые языковые конструкции;

Несинтезируемые конструкции используются только для моделирования и тестирования. Они не могут быть преобразованы в аппаратные схемы. К ним относятся initial, # для задержек, и $display для вывода информации в консоль. Например:

```Verilog

initial begin
    #10 a = 1;
    $display("Initial block for simulation only");
end
```

Эти операторы помогают верифицировать работу схемы, но не синтезируются в конечный чип

##### 23. Verilog. Модульная верификация. Структура типового тестового окружения.

Для верификации в Verilog создается тестовый модуль (testbench), который генерирует входные сигналы и проверяет выходы. Структура типового тестового окружения включает тестовый генератор, анализатор результатов и блок DUT (Design Under Test). Например:

```Verilog
module testbench;
    reg a, b;
    wire y;
    // Инстанцирование DUT
    my_module DUT (.a(a), .b(b), .y(y));

    initial begin
        // Подача тестовых сигналов и проверка
        a = 0; b = 1; #10;
        if (y != expected_value) $display("Error");
    end
endmodule
```

Такое окружение позволяет проводить автоматическое тестирование модулей и отслеживать результаты, улучшая процесс отладки
